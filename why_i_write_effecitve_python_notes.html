<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Effective Python 读书笔记 - CodingRoad-编程之路
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="CodingRoad-编程之路" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:blog.codingroad.com ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="_self" href="archives.html">Home</a></li>
        
        <li id=""><a target="_self" href="why_i_write_effecitve_python_notes.html">EffectivePython读书笔记</a></li>
        
        <li id=""><a target="_self" href="about.html">关于</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="http://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; CodingRoad-编程之路</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="_self" href="archives.html">Home</a></li>
        
        <li><a target="_self" href="why_i_write_effecitve_python_notes.html">EffectivePython读书笔记</a></li>
        
        <li><a target="_self" href="about.html">关于</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="mac.html">mac</a></li>
        
            <li><a href="python.html">python</a></li>
        
            <li><a href="java.html">java</a></li>
        
            <li><a href="operation-and-maintenance.html">运维</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
	$(function(){
		var currentURL = 'why_i_write_effecitve_python_notes.html';
		currentURL = currentURL.substr(0,currentURL.length-5);
		$('#menu_item_'+currentURL).addClass('is_active');
	});
</script>
<div class="row">

    <div id="single-page-wrap">
        <h1>Effective Python 读书笔记</h1>

        <div class="markdown-body post-page">
        <h2 id="toc_0">为什么写这个系列</h2>

<p>在使用Python多年后，发现自己在写项目时存在很多不好的习惯，导致项目代码可读性、可维护、性能和可复用性都非常差。</p>

<p>在几次惨痛的经历后，开始反思其中的原因：</p>

<ul>
<li>我是在基本无项目编程基础的情况下开始自学Python，导致很多规矩并不了解。</li>
<li>大部分场景都是写简短的脚本工具（300行以内），写这些工具的时候是怎么快怎么来，写完收工，根本不会想怎么写更合适。
<img src="media/15331265254256/15331272668887.jpg" alt=""/><br/></li>
</ul>

<p>更可怕的是根本没有意识到错在哪里，这就导致了这些臭毛病一直存在。</p>

<p>我相信大多数自学Python的朋友都存在同样的问题。</p>

<h2 id="toc_1"></h2>

<p>为了解决这个问题，我买了本《编写高质量Python代码的59个有效方法》，仔细读了两遍之后觉得受益匪浅，这本书从思想、语法、实现和应用等方面列出了59个方法来提升代码质量。</p>

<p><img src="media/15331265254256/15331749779471.jpg" alt=""/></p>

<p>为了帮助存在同样问题的Pythoner战友们，我决定再读一遍，并认真整理读书笔记和解读每一条建议。</p>

<p>同时对于新人，我强烈建议在学习完基本语法之后马上开始学习这本书，养成良好的编码习惯，顺便了解一些高级的特性。</p>

<h2 id="toc_2">学习本专栏您能收获什么</h2>

<ul>
<li></li>
</ul>

<h2 id="toc_3">说明</h2>

<ul>
<li>我写的示例基本上都是基于Python2.7。</li>
<li>很多内容是以我的经历和思维角度来分析，必然存在片面和歪楼的问题，还忘大家发现后及时指正。</li>
</ul>

<h2 id="toc_4">目录及进度</h2>

<ul>
<li>第一章：用Pythonic方式来思考

<ul>
<li>√ 第1条：确认当前的Python版本</li>
<li>√ 第2条：遵循PEP8风格指南</li>
<li>√ 第3条：了解bytes、str和unicode的区别<br/></li>
<li>√ 第4条：用辅助函数取代复杂的表达式 </li>
<li>√ 第5条：了解切割序列的方法</li>
<li>√ 第6条：在单次切片操作中不要同指定start、end和stride</li>
<li>√ 第7条：用列表推导来取代map和filter</li>
<li>√ 第8条：不要使用含有两个以上表达式的推导</li>
<li>√ 第9条：用生成器表达式来改写数据量较大的列表推导</li>
<li>√ 第10条：尽量用enumerate取代range</li>
<li>√ 第11条：使用zip函数同时遍历两个迭代器</li>
<li>√ 第12条：不要在for和while循环后写else块</li>
<li>√ 第13条：合理利用try/except/else/finally结构中的每个代码块</li>
</ul></li>
<li>第二章：函数

<ul>
<li>√ 第14条：尽量用异常表表示特殊情况，而不要用None </li>
<li>√ 第15条：了解如何在闭包里使用外围作用域中的变量</li>
<li>√ 第16条：用生成器来改写直接返回列表的函数</li>
<li>√ 第17条：使用迭代器时，要多加小心</li>
<li>√ 第18条：用*args来减少函数入参的视觉杂讯</li>
<li>√ 第19条：用关键字参数来表达可选行为</li>
<li>√ 第20条：用None和文档来描述具有动态默认值的入参</li>
<li>√ 第21条：用只能以关键字形式指定的参数来确保代码明晰</li>
</ul></li>
<li>第三章：类与继承

<ul>
<li>√ 第22条：尽量用辅助类来维护程序的状态，而不要用字典与元组</li>
<li>√ 第23条：简单的接口应该接受函数，而不是类的实例</li>
<li>√ 第24条：以@classmethod形式的多态去通用的构建对象</li>
<li>√ 第25条：用super初始化父类</li>
<li>√ 第26条：只在使用Mix-in组件制作工具类时进行多重继承 2018-08-18</li>
<li>第27条：多用public属性，少用private属性</li>
<li>第28条：继承collections.abc以实现自定义的容器类型</li>
</ul></li>
<li>第四章：元类及属性

<ul>
<li>第29条：用纯属性来取代get和set方法</li>
<li>第30条：考虑用@property来代替属性重构</li>
<li>第31条：用描述符来改写需要利用的@property方法</li>
<li>第32条：用__getattr__、__getattribute__和__setattr_实现按需生成的属性</li>
<li>第33条：用元类来验证子类</li>
<li>第34条：用元类来注册子类 </li>
<li>第35条：用元类来注解类的属性</li>
</ul></li>
<li>第五章：并发与并行

<ul>
<li>第36条：用subprocess模块来管理子进程</li>
<li>第37条：可以用线程来执行阻塞式I/O，但不要用它来做平行计算</li>
<li>第38条：在线程中使用Lock来防止数据竞争</li>
<li>第39条：用Queue来协调各线程之间的工作</li>
<li>第40条：考虑用协程来并发地运行多个函数 </li>
<li>第41条：考虑用concurrent.futures来实现真正的平行计算</li>
</ul></li>
<li>第六章：内置模块

<ul>
<li>第42条：用functools.wraps定义函数装饰器</li>
<li>第43条：以contextlib和with语句来改写可复用的try/finally代码</li>
<li>第44条：用copyreg实现可靠的pickle操作</li>
<li>第45条：应该用datetime模块来处理本地时间，而不是time模块</li>
<li>第46条：使用内置的算法与数据结构</li>
<li>第47条：在重视精确度的场合，应该使用decimal</li>
<li>第48条：学会安装由Python开发者社区所构建的模块</li>
</ul></li>
<li>第七章：协作开发

<ul>
<li>第49条：为每个函数、类和模块编写文档</li>
<li>第50条：用包来安排模块，并提供稳固的API </li>
<li>第51条：为自编的模块定义根异常，以使用将调用者与API隔离</li>
<li>第52条：用适当的方式打破循环依赖关系</li>
<li>第53条：用虚拟环境隔离项目，并重建其依赖关系</li>
</ul></li>
<li>第八章：部署

<ul>
<li>第54条：考虑用模块级别的代码来配置不同的部署环境</li>
<li>第55条：通过repr字符串来输出调试信息</li>
<li>第56条：用unittest来测试全部代码</li>
<li>第57条：考虑用pdb实现交互调试</li>
<li>第58条：先分析性能，然后再优化</li>
<li>第59条：用tracemalloc来掌握内存的使用及泄露情况</li>
</ul></li>
</ul>

<blockquote>
<p>打√的为已经写完的部分</p>
</blockquote>

        </div>
    </div>
</div>              
 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>



  </body>
</html>
